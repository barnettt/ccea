package com.ccea.web.action;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.webflow.action.MultiAction;
import org.springframework.webflow.execution.Action;
import org.springframework.webflow.execution.Event;
import org.springframework.webflow.execution.RequestContext;

import com.ccea.persistence.model.pojo.Project;
import com.ccea.persistence.report.UIDataManager;

public class EnterProjectAction extends MultiAction {

	@Autowired
	UIDataManager uiDataManager;
	
	public EnterProjectAction() {
		 super();
	}

	 
	
	
	public Event getProjectBean(RequestContext context) throws Exception {
		Project project = new Project();
		
        Project p = (Project)context.getFlowScope().get("projectBean");
		
        uiDataManager.save(p);
        
	    return new Event(this,"success");
	}
	
	public Event addProjectBean(RequestContext context) throws Exception {
		Project project = new Project();
		
        context.getFlowScope().put("projectBean", project);
		
	    return new Event(this,"success");
	}

}
